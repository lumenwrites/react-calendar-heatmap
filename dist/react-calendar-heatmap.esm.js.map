{"version":3,"file":"react-calendar-heatmap.esm.js","sources":["../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/index.js","../node_modules/memoize-one/dist/memoize-one.esm.js","../src/constants.js","../src/helpers.js","../src/index.js"],"sourcesContent":["/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","var safeIsNaN = Number.isNaN ||\n    function ponyfill(value) {\n        return typeof value === 'number' && value !== value;\n    };\nfunction isEqual(first, second) {\n    if (first === second) {\n        return true;\n    }\n    if (safeIsNaN(first) && safeIsNaN(second)) {\n        return true;\n    }\n    return false;\n}\nfunction areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (!isEqual(newInputs[i], lastInputs[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var cache = null;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (cache && cache.lastThis === this && isEqual(newArgs, cache.lastArgs)) {\n            return cache.lastResult;\n        }\n        var lastResult = resultFn.apply(this, newArgs);\n        cache = {\n            lastResult: lastResult,\n            lastArgs: newArgs,\n            lastThis: this,\n        };\n        return lastResult;\n    }\n    memoized.clear = function clear() {\n        cache = null;\n    };\n    return memoized;\n}\n\nexport { memoizeOne as default };\n","export const MILLISECONDS_IN_ONE_DAY = 24 * 60 * 60 * 1000;\n\nexport const DAYS_IN_WEEK = 7;\n\nexport const MONTH_LABELS = [\n  'Jan',\n  'Feb',\n  'Mar',\n  'Apr',\n  'May',\n  'Jun',\n  'Jul',\n  'Aug',\n  'Sep',\n  'Oct',\n  'Nov',\n  'Dec',\n];\n\nexport const DAY_LABELS = ['', 'Mon', '', 'Wed', '', 'Fri', ''];\n","// returns a new date shifted a certain number of days (can be negative)\nexport function shiftDate(date, numDays) {\n  const newDate = new Date(date);\n  newDate.setDate(newDate.getDate() + numDays);\n  return newDate;\n}\n\nexport function getBeginningTimeForDate(date) {\n  return new Date(date.getFullYear(), date.getMonth(), date.getDate());\n}\n\n// obj can be a parseable string, a millisecond timestamp, or a Date object\nexport function convertToDate(obj) {\n  return obj instanceof Date ? obj : new Date(obj);\n}\n\nexport function dateNDaysAgo(numDaysAgo) {\n  return shiftDate(new Date(), -numDaysAgo);\n}\n\nexport function getRange(count) {\n  const arr = [];\n  for (let idx = 0; idx < count; idx += 1) {\n    arr.push(idx);\n  }\n  return arr;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport memoizeOne from 'memoize-one';\nimport { DAYS_IN_WEEK, MILLISECONDS_IN_ONE_DAY, DAY_LABELS, MONTH_LABELS } from './constants';\nimport {\n  dateNDaysAgo,\n  shiftDate,\n  getBeginningTimeForDate,\n  convertToDate,\n  getRange,\n} from './helpers';\n\nconst SQUARE_SIZE = 10;\nconst MONTH_LABEL_GUTTER_SIZE = 4;\nconst CSS_PSEDUO_NAMESPACE = 'react-calendar-heatmap-';\n\nclass CalendarHeatmap extends React.Component {\n  getDateDifferenceInDays() {\n    const { startDate, numDays } = this.props;\n    if (numDays) {\n      // eslint-disable-next-line no-console\n      console.warn(\n        'numDays is a deprecated prop. It will be removed in the next release. Consider using the startDate prop instead.',\n      );\n      return numDays;\n    }\n    const timeDiff = this.getEndDate() - convertToDate(startDate);\n    return Math.ceil(timeDiff / MILLISECONDS_IN_ONE_DAY);\n  }\n\n  getSquareSizeWithGutter() {\n    return SQUARE_SIZE + this.props.gutterSize;\n  }\n\n  getMonthLabelSize() {\n    if (!this.props.showMonthLabels) {\n      return 0;\n    }\n    if (this.props.horizontal) {\n      return SQUARE_SIZE + MONTH_LABEL_GUTTER_SIZE;\n    }\n    return 2 * (SQUARE_SIZE + MONTH_LABEL_GUTTER_SIZE);\n  }\n\n  getWeekdayLabelSize() {\n    if (!this.props.showWeekdayLabels) {\n      return 0;\n    }\n    if (this.props.horizontal) {\n      return 30;\n    }\n    return SQUARE_SIZE * 1.5;\n  }\n\n  getStartDate() {\n    return shiftDate(this.getEndDate(), -this.getDateDifferenceInDays() + 1); // +1 because endDate is inclusive\n  }\n\n  getEndDate() {\n    return getBeginningTimeForDate(convertToDate(this.props.endDate));\n  }\n\n  getStartDateWithEmptyDays() {\n    return shiftDate(this.getStartDate(), -this.getNumEmptyDaysAtStart());\n  }\n\n  getNumEmptyDaysAtStart() {\n    // return this.getStartDate().getDay();\n    return  (this.getStartDate().getDay() || 7) - 1\n  }\n\n  getNumEmptyDaysAtEnd() {\n    // return DAYS_IN_WEEK - 1 - this.getEndDate().getDay();\n    return (DAYS_IN_WEEK - 1) - ((this.getEndDate().getDay() || 7) - 1);\n  }\n\n  getWeekCount() {\n    const numDaysRoundedToWeek =\n      this.getDateDifferenceInDays() + this.getNumEmptyDaysAtStart() + this.getNumEmptyDaysAtEnd();\n    return Math.ceil(numDaysRoundedToWeek / DAYS_IN_WEEK);\n  }\n\n  getWeekWidth() {\n    return DAYS_IN_WEEK * this.getSquareSizeWithGutter();\n  }\n\n  getWidth() {\n    return (\n      this.getWeekCount() * this.getSquareSizeWithGutter() -\n      (this.props.gutterSize - this.getWeekdayLabelSize())\n    );\n  }\n\n  getHeight() {\n    return (\n      this.getWeekWidth() +\n      (this.getMonthLabelSize() - this.props.gutterSize) +\n      this.getWeekdayLabelSize()\n    );\n  }\n\n  getValueCache = memoizeOne((props) =>\n    props.values.reduce((memo, value) => {\n      const date = convertToDate(value.date);\n      const index = Math.floor((date - this.getStartDateWithEmptyDays()) / MILLISECONDS_IN_ONE_DAY);\n      // eslint-disable-next-line no-param-reassign\n      memo[index] = {\n        value,\n        className: this.props.classForValue(value),\n        title: this.props.titleForValue ? this.props.titleForValue(value) : null,\n        tooltipDataAttrs: this.getTooltipDataAttrsForValue(value),\n      };\n      return memo;\n    }, {}),\n  );\n\n  getValueForIndex(index) {\n    if (this.valueCache[index]) {\n      return this.valueCache[index].value;\n    }\n    return null;\n  }\n\n  getClassNameForIndex(index) {\n    if (this.valueCache[index]) {\n      return this.valueCache[index].className;\n    }\n    return this.props.classForValue(null);\n  }\n\n  getTitleForIndex(index) {\n    if (this.valueCache[index]) {\n      return this.valueCache[index].title;\n    }\n    return this.props.titleForValue ? this.props.titleForValue(null) : null;\n  }\n\n  getTooltipDataAttrsForIndex(index) {\n    if (this.valueCache[index]) {\n      return this.valueCache[index].tooltipDataAttrs;\n    }\n    return this.getTooltipDataAttrsForValue({ date: null, count: null });\n  }\n\n  getTooltipDataAttrsForValue(value) {\n    const { tooltipDataAttrs } = this.props;\n\n    if (typeof tooltipDataAttrs === 'function') {\n      return tooltipDataAttrs(value);\n    }\n    return tooltipDataAttrs;\n  }\n\n  getTransformForWeek(weekIndex) {\n    if (this.props.horizontal) {\n      return `translate(${weekIndex * this.getSquareSizeWithGutter()}, 0)`;\n    }\n    return `translate(0, ${weekIndex * this.getSquareSizeWithGutter()})`;\n  }\n\n  getTransformForWeekdayLabels() {\n    if (this.props.horizontal) {\n      return `translate(${SQUARE_SIZE}, ${this.getMonthLabelSize()})`;\n    }\n    return null;\n  }\n\n  getTransformForMonthLabels() {\n    if (this.props.horizontal) {\n      return `translate(${this.getWeekdayLabelSize()}, 0)`;\n    }\n    return `translate(${this.getWeekWidth() +\n      MONTH_LABEL_GUTTER_SIZE}, ${this.getWeekdayLabelSize()})`;\n  }\n\n  getTransformForAllWeeks() {\n    if (this.props.horizontal) {\n      return `translate(${this.getWeekdayLabelSize()}, ${this.getMonthLabelSize()})`;\n    }\n    return `translate(0, ${this.getWeekdayLabelSize()})`;\n  }\n\n  getViewBox() {\n    if (this.props.horizontal) {\n      return `0 0 ${this.getWidth()} ${this.getHeight()}`;\n    }\n    return `0 0 ${this.getHeight()} ${this.getWidth()}`;\n  }\n\n  getSquareCoordinates(dayIndex) {\n    if (this.props.horizontal) {\n      return [0, dayIndex * this.getSquareSizeWithGutter()];\n    }\n    return [dayIndex * this.getSquareSizeWithGutter(), 0];\n  }\n\n  getWeekdayLabelCoordinates(dayIndex) {\n    if (this.props.horizontal) {\n      return [0, (dayIndex + 1) * SQUARE_SIZE + dayIndex * this.props.gutterSize];\n    }\n    return [dayIndex * SQUARE_SIZE + dayIndex * this.props.gutterSize, SQUARE_SIZE];\n  }\n\n  getMonthLabelCoordinates(weekIndex) {\n    if (this.props.horizontal) {\n      return [\n        weekIndex * this.getSquareSizeWithGutter(),\n        this.getMonthLabelSize() - MONTH_LABEL_GUTTER_SIZE,\n      ];\n    }\n    const verticalOffset = -2;\n    return [0, (weekIndex + 1) * this.getSquareSizeWithGutter() + verticalOffset];\n  }\n\n  handleClick(value) {\n    if (this.props.onClick) {\n      this.props.onClick(value);\n    }\n  }\n\n  handleMouseOver(e, value) {\n    if (this.props.onMouseOver) {\n      this.props.onMouseOver(e, value);\n    }\n  }\n\n  handleMouseLeave(e, value) {\n    if (this.props.onMouseLeave) {\n      this.props.onMouseLeave(e, value);\n    }\n  }\n\n  renderSquare(dayIndex, index) {\n    const indexOutOfRange =\n      index < this.getNumEmptyDaysAtStart() ||\n      index >= this.getNumEmptyDaysAtStart() + this.getDateDifferenceInDays();\n    if (indexOutOfRange && !this.props.showOutOfRangeDays) {\n      return null;\n    }\n    const [x, y] = this.getSquareCoordinates(dayIndex);\n    const value = this.getValueForIndex(index);\n    const rect = (\n      // eslint-disable-next-line jsx-a11y/mouse-events-have-key-events\n      <rect\n        key={index}\n        width={SQUARE_SIZE}\n        height={SQUARE_SIZE}\n        x={x}\n        y={y}\n        className={this.getClassNameForIndex(index)}\n        onClick={() => this.handleClick(value)}\n        onMouseOver={(e) => this.handleMouseOver(e, value)}\n        onMouseLeave={(e) => this.handleMouseLeave(e, value)}\n        {...this.getTooltipDataAttrsForIndex(index)}\n      >\n        <title>{this.getTitleForIndex(index)}</title>\n      </rect>\n    );\n    const { transformDayElement } = this.props;\n    return transformDayElement ? transformDayElement(rect, value, index) : rect;\n  }\n\n  renderWeek(weekIndex) {\n    return (\n      <g\n        key={weekIndex}\n        transform={this.getTransformForWeek(weekIndex)}\n        className={`${CSS_PSEDUO_NAMESPACE}week`}\n      >\n        {getRange(DAYS_IN_WEEK).map((dayIndex) =>\n          this.renderSquare(dayIndex, weekIndex * DAYS_IN_WEEK + dayIndex),\n        )}\n      </g>\n    );\n  }\n\n  renderAllWeeks() {\n    return getRange(this.getWeekCount()).map((weekIndex) => this.renderWeek(weekIndex));\n  }\n\n  renderMonthLabels() {\n    if (!this.props.showMonthLabels) {\n      return null;\n    }\n    const weekRange = getRange(this.getWeekCount() - 1); // don't render for last week, because label will be cut off\n    return weekRange.map((weekIndex) => {\n      const endOfWeek = shiftDate(this.getStartDateWithEmptyDays(), (weekIndex + 1) * DAYS_IN_WEEK);\n      const [x, y] = this.getMonthLabelCoordinates(weekIndex);\n      return endOfWeek.getDate() >= 1 && endOfWeek.getDate() <= DAYS_IN_WEEK ? (\n        <text key={weekIndex} x={x} y={y} className={`${CSS_PSEDUO_NAMESPACE}month-label`}>\n          {this.props.monthLabels[endOfWeek.getMonth()]}\n        </text>\n      ) : null;\n    })\n  }\n\n  \n  renderWeekdayLabels() {\n    if (!this.props.showWeekdayLabels) {\n      return null;\n    }\n\n    const weekdayLabels = [...this.props.weekdayLabels.slice(1), this.props.weekdayLabels[0]];\n\n    return weekdayLabels.map((weekdayLabel, dayIndex) => {\n      const [x, y] = this.getWeekdayLabelCoordinates(dayIndex);\n      const cssClasses = `${this.props.horizontal ? '' : `${CSS_PSEDUO_NAMESPACE}small-text`} ${CSS_PSEDUO_NAMESPACE}weekday-label`;\n      // eslint-disable-next-line no-bitwise\n      return dayIndex & 1 ? (\n        <text key={`${x}${y}`} x={x} y={y} className={cssClasses}>\n          {weekdayLabel}\n        </text>\n      ) : null;\n    });\n  }\n\n  render() {\n    this.valueCache = this.getValueCache(this.props);\n\n    return (\n      <svg className=\"react-calendar-heatmap\" viewBox={this.getViewBox()}>\n        <g\n          transform={this.getTransformForMonthLabels()}\n          className={`${CSS_PSEDUO_NAMESPACE}month-labels`}\n        >\n          {this.renderMonthLabels()}\n        </g>\n        <g\n          transform={this.getTransformForAllWeeks()}\n          className={`${CSS_PSEDUO_NAMESPACE}all-weeks`}\n        >\n          {this.renderAllWeeks()}\n        </g>\n        <g\n          transform={this.getTransformForWeekdayLabels()}\n          className={`${CSS_PSEDUO_NAMESPACE}weekday-labels`}\n        >\n          {this.renderWeekdayLabels()}\n        </g>\n      </svg>\n    );\n  }\n}\n\nCalendarHeatmap.propTypes = {\n  values: PropTypes.arrayOf(\n    PropTypes.shape({\n      date: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date)])\n        .isRequired,\n    }).isRequired,\n  ).isRequired, // array of objects with date and arbitrary metadata\n  numDays: PropTypes.number, // number of days back from endDate to show\n  startDate: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date)]), // start of date range\n  endDate: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date)]), // end of date range\n  gutterSize: PropTypes.number, // size of space between squares\n  horizontal: PropTypes.bool, // whether to orient horizontally or vertically\n  showMonthLabels: PropTypes.bool, // whether to show month labels\n  showWeekdayLabels: PropTypes.bool, // whether to show weekday labels\n  showOutOfRangeDays: PropTypes.bool, // whether to render squares for extra days in week after endDate, and before start date\n  tooltipDataAttrs: PropTypes.oneOfType([PropTypes.object, PropTypes.func]), // data attributes to add to square for setting 3rd party tooltips, e.g. { 'data-toggle': 'tooltip' } for bootstrap tooltips\n  titleForValue: PropTypes.func, // function which returns title text for value\n  classForValue: PropTypes.func, // function which returns html class for value\n  monthLabels: PropTypes.arrayOf(PropTypes.string), // An array with 12 strings representing the text from janurary to december\n  weekdayLabels: PropTypes.arrayOf(PropTypes.string), // An array with 7 strings representing the text from Sun to Sat\n  onClick: PropTypes.func, // callback function when a square is clicked\n  onMouseOver: PropTypes.func, // callback function when mouse pointer is over a square\n  onMouseLeave: PropTypes.func, // callback function when mouse pointer is left a square\n  transformDayElement: PropTypes.func, // function to further transform the svg element for a single day\n};\n\nCalendarHeatmap.defaultProps = {\n  numDays: null,\n  startDate: dateNDaysAgo(200),\n  endDate: new Date(),\n  gutterSize: 1,\n  horizontal: true,\n  showMonthLabels: true,\n  showOutOfRangeDays: false,\n  tooltipDataAttrs: null,\n  titleForValue: null,\n  classForValue: (value) => (value ? 'color-filled' : 'color-empty'),\n  monthLabels: MONTH_LABELS,\n  weekdayLabels: DAY_LABELS,\n  onClick: null,\n  onMouseOver: null,\n  onMouseLeave: null,\n  transformDayElement: null,\n};\n\nexport default CalendarHeatmap;\n"],"names":["ReactPropTypesSecret","MILLISECONDS_IN_ONE_DAY","DAYS_IN_WEEK","MONTH_LABELS","DAY_LABELS","shiftDate","date","numDays","newDate","Date","setDate","getDate","getBeginningTimeForDate","getFullYear","getMonth","convertToDate","obj","dateNDaysAgo","numDaysAgo","getRange","count","arr","idx","push","SQUARE_SIZE","MONTH_LABEL_GUTTER_SIZE","CSS_PSEDUO_NAMESPACE","CalendarHeatmap","memoizeOne","props","values","reduce","memo","value","index","Math","floor","getStartDateWithEmptyDays","className","classForValue","title","titleForValue","tooltipDataAttrs","getTooltipDataAttrsForValue","startDate","console","warn","timeDiff","getEndDate","ceil","gutterSize","showMonthLabels","horizontal","showWeekdayLabels","getDateDifferenceInDays","endDate","getStartDate","getNumEmptyDaysAtStart","getDay","numDaysRoundedToWeek","getNumEmptyDaysAtEnd","getSquareSizeWithGutter","getWeekCount","getWeekdayLabelSize","getWeekWidth","getMonthLabelSize","valueCache","weekIndex","getWidth","getHeight","dayIndex","verticalOffset","onClick","e","onMouseOver","onMouseLeave","indexOutOfRange","showOutOfRangeDays","getSquareCoordinates","x","y","getValueForIndex","rect","getClassNameForIndex","handleClick","handleMouseOver","handleMouseLeave","getTooltipDataAttrsForIndex","getTitleForIndex","transformDayElement","getTransformForWeek","map","renderSquare","renderWeek","weekRange","endOfWeek","getMonthLabelCoordinates","monthLabels","weekdayLabels","slice","weekdayLabel","getWeekdayLabelCoordinates","cssClasses","getValueCache","getViewBox","getTransformForMonthLabels","renderMonthLabels","getTransformForAllWeeks","renderAllWeeks","getTransformForWeekdayLabels","renderWeekdayLabels","React","Component","propTypes","PropTypes","arrayOf","shape","oneOfType","string","number","instanceOf","isRequired","bool","object","func","defaultProps"],"mappings":"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"}